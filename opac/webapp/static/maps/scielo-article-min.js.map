{"version":3,"sources":["scielo-article-min.js"],"names":["Article","TopBinder","Init","SetScreen","articleText","$","articleTextP","offset","articleMenuW","width","on","modalBody","this","table","modalBodyWidth","outerWidth","tableWidth","is","addClass","removeClass","RefToolTip","open","t","s","d","next","p","position","supPositionLeft","outerHeight","left","li","closest","length","css","fadeIn","close","IsTablet","IsMobile","isTooltipOpen","actualOpened","e","each","stopPropagation","get","preventDefault","type","parent","find","fadeOut","ctt","ico","slideUp","slideDown","ref","txt","data","hide","show","window","scrollTop","setTimeout","ArticleStructureBuilder","ArticleStructureSelect","c","text","indexOf","parseInt","split","top","articleTextH","articleMenuH","height","scroll","isScrolledIntoView","stop","location","hash","scrollY","modal","target","downloadOpt","downloadOptW","fechaAutores","hasEncodedTheURL","mouseenter","event","urlAtual","href","ajax","async","url","encodeURI","dataType","success","result","clipboard","Clipboard","trigger","isFloatingMenuMobileClosed","children","removeAttr","opacity","elem","docViewTop","docViewBottom","elemTop","structure","content","idx","h","prepend","push","iidx","ooffset","prev","before","html","attr","replace","animate","pos","i","l","Bindings","ctn","autoresGrupo","autores","qtdAutores","AuthorsQTDTooltip","btnSobre","primeiro","ultimo","authorsQTDToShowInsideBracktes","linkToggleOn","padding","cursor","boxToggleOff","linkToggleOff","spanOff","append","autoresResumo","tooltip","textContent","IsTabletPortrait","IsDesktop","IsHD","isOldIE","DetectMobile","userAgent","mobile","detectMobileBrowsers","fullPattern","shortPattern","test","substr","DetectTablet","tablets","tabletPattern","w","innerWidth","orientation","matchMedia","matches","navigator","addEventListener","screen","angle","appVersion","IsOldIE"],"mappings":"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","file":"../js/scielo-article-min.js","sourcesContent":["var Article = {\n\tTopBinder: [],\n\tInit: function() {\n\n\t\tArticle.SetScreen();\n\n\t\tvar articleText = $(\"#articleText\"),\n\t\t\tarticleTextP = articleText.offset(),\n\t\t\tarticleMenuW = $(\".articleMenu\").width(),\n\t\t\tp = $(\".articleSection\",articleText);\n\n\t\t$(\".ModalTables\").on(\"shown.bs.modal\",function() {\n\t\t\tvar modalBody = $(\".modal-body\",this),\n\t\t\t\ttable = $(\"table\",modalBody),\n\t\t\t\tmodalBodyWidth = modalBody.outerWidth(),\n\t\t\t\ttableWidth = table.outerWidth();\n\n\t\t\tif(!modalBody.is(\"cached\")) {\n\t\t\t\ttable.addClass(\"table\");\n\n\t\t\t\tif(tableWidth > modalBodyWidth) {\n\t\t\t\t\ttable.addClass(\"autoWidth\");\n\t\t\t\t} else {\n\t\t\t\t\ttable.removeClass(\"autoWidth\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmodalBody.addClass(\"cached\");\n\t\t});\n\n\n\t\tvar RefToolTip = {\n\n\t\t\topen: function(t) {\n\n\t\t\t\tvar s = $(\".xref\",t),\n\t\t\t\t\td = s.next(\"span:eq(0)\"),\n\t\t\t\t\tp = t.position(),\n\t\t\t\t\tsupHeight = s.outerHeight(),\n\t\t\t\t\tsupPositionLeft = p.left,\n\t\t\t\t\tli = t.closest(\"li\");\n\n\t\t\t\tif(li.length > 0)\n\t\t\t\t\tli.addClass(\"zindexFix\");\n\n\t\t\t\td.removeClass(\"closed\").addClass(\"opened\").css({\n\t\t\t\t\t\"left\": (supPositionLeft > 300) ? (-supPositionLeft/3) : 0\n\t\t\t\t}).fadeIn(\"fast\");\n\n\t\t\t},\n\t\t\tclose: function(t) {\n\n\t\t\t\tvar s = $(\".xref\",t),\n\t\t\t\t\td = s.next(\"span:eq(0)\"),\n\t\t\t\t\tli = t.closest(\"li\");\n\n\t\t\t\tif(li.length > 0)\n\t\t\t\t\tli.removeClass(\"zindexFix\");\n\n\t\t\t\td.removeClass(\"opened\").addClass(\"closed\");\n\t\t\t}\n\t\t};\n\n\t\t// Tablet or Mobile\n\t\tif(Article.IsTablet || Article.IsMobile) {\n\n\t\t\tvar isTooltipOpen = false;\n\t\t\tvar actualOpened = null;\n\n\t\t\t$('html').on('touchstart', function(e) {\n\n\t\t\t\t$(\".ref\").each(function() {\n\n\t\t\t\t\tvar t = $(this);\n\t\t\t\t\tRefToolTip.close(t);\n\n\t\t\t\t\tisTooltipOpen = false;\n\t\t\t\t});\n\n\t\t\t});\n\n\t\t\t$(\".ref\").on('touchstart',function(e) {\n\t\t\t    e.stopPropagation();\n\n\t\t\t  \tvar t = $(this);\n\n\t\t\t  \tif(actualOpened !== null && t.get(0) === actualOpened.get(0)) {\n\n\t\t\t  \t\tif(!isTooltipOpen) {\n\n\t\t\t\t\t\tactualOpened = t;\n\n\t\t\t\t\t\tRefToolTip.open(t);\n\t\t  \t\t\t    isTooltipOpen = true;\n\n\t\t\t\t\t} else if(isTooltipOpen) {\n\n\t\t\t\t\t\tRefToolTip.close(t);\n\t\t\t\t\t\tisTooltipOpen = false;\n\t\t\t\t\t}\n\n\t\t\t  \t} else {\n\n\t\t\t  \t\tif(actualOpened !== null) RefToolTip.close(actualOpened);\n\n\t\t\t\t\tactualOpened = t;\n\n\t\t\t\t\tRefToolTip.open(t);\n\t\t  \t\t\tisTooltipOpen = true;\n\t\t\t  \t}\n\n\t\t\t});\n\n\t\t// Desktop\n\t\t} else {\n\n\t\t\t$(\".ref\").on(\"mouseenter mouseleave\",function(e) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar t = $(this);\n\n\t\t\t\tif(e.type === \"mouseenter\") {\n\n\t\t\t\t\tRefToolTip.open(t);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tRefToolTip.close(t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\n\t\t$(\".thumb\").on(\"mouseenter mouseleave\",function(e) {\n\t\t\tvar p = $(this).parent().parent().find(\".preview\");\n\t\t\tif(e.type == \"mouseenter\") {\n\t\t\t\tp.fadeIn(\"fast\");\n\t\t\t} else if(e.type == \"mouseleave\") {\n\t\t\t\tp.fadeOut(\"fast\");\n\t\t\t}\n\t\t});\n\n\t\t$(\".ModalTables\").on(\"shown.bs.modal\",function() {\n\t\t\tvar check = $(\"table td[colspan], table td[rowspan]\",this).length;\n\t\t\tif(check == 0)\n\t\t\t\t$(\"table\",this).addClass(\"table-hover\");\n\t\t});\n\n\t\t$(\".collapseTitle\").on(\"click\",function() {\n\t\t\tvar ctt = $(this).next(),\n\t\t\t\tico = $(this).find(\".collapseIcon\");\n\n\t\t\tif(ctt.is(\":visible\")) {\n\t\t\t\tctt.slideUp(\"fast\");\n\t\t\t\tico.removeClass(\"opened\");\n\t\t\t} else {\n\t\t\t\tctt.slideDown(\"fast\");\n\t\t\t\tico.addClass(\"opened\");\n\t\t\t}\n\t\t});\n\n\t\t$(\".expandReduceText\").on(\"click\",function(e) {\n\t\t\te.preventDefault();\n\t\t\tvar ref = $(\"#articleText .ref\"),\n\t\t\t\ttxt = $(\"#articleText .text\"),\n\t\t\t\ts = $(this).data(\"expandreducetext\"),\n\t\t\t\ttw = $(this).data(\"defaultwidth\");\n\n\t\t\tif(typeof tw == \"undefined\")\n\t\t\t\t$(this).data(\"defaultwidth\",txt.outerWidth());\n\n\t\t\tif(s == true) {\n\t\t\t\tref.hide();\n\t\t\t\ttxt.outerWidth(\"100%\");\n\n\t\t\t\t$(this).data(\"expandreducetext\",false);\n\t\t\t} else {\n\t\t\t\ttxt.width(\"\");\n\t\t\t\tref.show();\n\n\t\t\t\t$(this).data(\"expandreducetext\",true);\n\t\t\t}\n\n\t\t\tvar t = $(window).scrollTop();\n\t\t\tsetTimeout(function() {\n\t\t\t\tArticle.ArticleStructureBuilder();\n\t\t\t\tArticle.ArticleStructureSelect(t);\n\t\t\t},100);\n\n\n\t\t});\n\n\t\t$(\".articleTxt .xref:not(.big)\").on(\"click\",function() {\n\t\t\tvar c = $(this).text(),\n\t\t\t\td = $(\".ref-list\");\n\n\t\t\tif(c.indexOf(\",\") == -1) {\n\t\t\t\tparseInt(c);\n\t\t\t\tc--;\n\t\t\t} else {\n\t\t\t\tc = c.split(\",\");\n\t\t\t\tc = c[0];\n\n\t\t\t\tparseInt(c);\n\t\t\t\tc--;\n\t\t\t}\n\t\t});\n\n\t\tArticle.ArticleStructureBuilder();\n\n\t\tarticleTextP.top = articleTextP.top - 25;\n\t\tvar articleTextH = articleText.outerHeight(),\n\t\t\tarticleMenuH = $(\".articleMenu\").height();\n\n\t\twindow.setTimeout(function() {\n\t\t\tarticleMenuH = $(\".articleMenu\").height();\n\t\t},200);\n\n\t\t$(window).scroll(function() {\n\t\t\tvar t = $(window).scrollTop();\n\n\t\t\tif(Article.isScrolledIntoView('.floatingMenuCtt')){\n\n\t\t\t\t$('.floatingMenuItem').css({position: 'absolute'});\n\t\t\t\t$('.floatingMenu').css({position: 'absolute'});\n\n\t\t\t}else{\n\n\t\t\t\t$('.floatingMenuItem').css({position: 'fixed'});\n\t\t\t\t$('.floatingMenu').css({position: 'fixed'});\n\t\t\t}\n\n\t\t\tif(t > articleTextP.top) {\n\n\t\t\t\t$(\".articleMenu\").addClass(\"fixed\").width(articleMenuW);\n\n\t\t\t\tif(t > (articleTextH + articleTextP.top - articleMenuH - 46)) {\n\t\t\t\t\t$(\".articleMenu\").addClass(\"fixedBottom\");\n\n\t\t\t\t} else {\n\t\t\t\t\t$(\".articleMenu\").removeClass(\"fixedBottom\");\n\t\t\t\t}\n\t\t\t} else\n\t\t\t\t$(\".articleMenu\").removeClass(\"fixed\");\n\n\t\t\tArticle.ArticleStructureSelect(t);\n\n\t\t\t$(\".alternativeHeader\").stop(false,false);\n\t\t});\n\n\n\t\tif(window.location.hash != \"\") {\n\t\t\tvar hash = window.location.hash,\n\t\t\t\tscrollY = window.scrollY;\n\n\t\t\t$(hash).modal(\"toggle\").on(\"hidden.bs.modal\",function() {\n    \t\t\twindow.location.hash = '';\n\n    \t\t\t$(\"body,html\").scrollTop(scrollY);\n\t\t\t});\n\t\t}\n\n\t\t$(\"[data-toggle='modal']\").on(\"click\",function() {\n\t\t\tvar t = $(this),\n\t\t\t\ttarget = t.data(\"target\"),\n\t\t\t\tscrollY = window.scrollY;\n\n\t\t\tif(target != \"undefined\" || target != \"\")\n\t\t\t\twindow.location.hash = target;\n\n\t\t\t$(target).on(\"hidden.bs.modal\",function () {\n        \t\twindow.location.hash = '';\n\n        \t\t$(\"body,html\").scrollTop(scrollY);\n    \t\t});\n\t\t});\n\n\t\tvar downloadOpt = $(\".downloadOptions li.group\"),\n\t\t\tdownloadOptW = 100/downloadOpt.length;\n\n\t\tdownloadOpt.css(\"width\",downloadOptW+\"%\");\n\n\t\tArticle.fechaAutores();\n\n\t\t// Global variable shared on mouseenter event and clipboard\n\t\tvar hasEncodedTheURL = false;\n\n\t\t$('.short-link').mouseenter(function(event) {\n\n\t\t\t// Verify if the ajax request has already been made\n\t\t\tif(!hasEncodedTheURL) {\n\n\t\t\t\tvar urlAtual = window.location.href;\n\t\t\t\t// var urlAtual = \"http://www.scielo.br\";\n\n\t\t\t\tif(urlAtual.indexOf('localhost') !== -1) { // Localhost\n\t\t\t\t\tvar urlAtual = \"http://www.scielo.br\";\n\t\t\t\t}\n\n\t        \t$.ajax({\n\t\t            type: \"GET\",\n\t\t            async: false,\n\t\t            url: 'http://ref.scielo.org/api/v1/shorten',\n\t\t            data: 'url=' + encodeURI(urlAtual),\n\t\t            dataType: \"jsonp\",\n\t\t            success: function(data) {\n\t\t            \tresult = data;\n\t\t            \thasEncodedTheURL = true;\n\t            \t}\n\t            \t//error:\n\t        \t});\n\t\t\t}\n\n\t    });\n\n\t\tvar clipboard = new Clipboard('.short-link', {\n        text: function(trigger) {\n            \treturn result;\n            }\n        });\n\n\t    clipboard.on('success', function(e) {\n\n\t        void 0;\n\n        \tvar t = $(e.trigger);\n\t\t\tt.addClass(\"copyFeedback\");\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tt.removeClass(\"copyFeedback\");\n\t\t\t},2000);\n\t    });\n\n\t    clipboard.on('error', function(e) {\n\t    \tvoid 0;\n\n\t    \tvar t = $(e.trigger);\n\t\t\tt.addClass(\"copyFeedbackError\");\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tt.removeClass(\"copyFeedbackError\");\n\t\t\t},2000);\n\t    });\n\n\t    $(\"ul.floatingMenuMobile\").on('click', function() {\n\n\t    \t$(this).find('.fm-button-child').each(function() {\n\t    \t\t$(this).addClass('tooltip-mobile-on');\n\t    \t});\n\t    });\n\n\t     var isFloatingMenuMobileClosed = true;\n\n\t    $(\"ul.floatingMenuMobile\").on('focusout click', function(e) {\n\n\t    \tif(isFloatingMenuMobileClosed) { // Open menu\n\n\t    \t\tif(e.type === 'focusout') {\n\t    \t\t\treturn;\n\t    \t\t}\n\n\t    \t\tisFloatingMenuMobileClosed = false;\n\t    \t\t$(this).find('.fm-list').children('li').removeAttr('style');\n\t    \t\t$(this).find('.fm-button-main').addClass('fm-button-main-mobile-open');\n\n\t    \t} else {\n\n\t    \t\tisFloatingMenuMobileClosed = true; // Close menu\n\t    \t\t$(this).find('.fm-list').children('li').css({'opacity': 0});\n\t    \t\t$(this).find('.fm-button-main').removeClass('fm-button-main-mobile-open');\n\t    \t}\n\t    });\n\n\t},\n\n\tisScrolledIntoView: function(elem){\n\t    var docViewTop = $(window).scrollTop();\n\t    var docViewBottom = docViewTop + $(window).height();\n\t    var elemTop = $(elem).offset().top;\n\t    var elemBottom = elemTop + $(elem).height();\n\t    return ((elemBottom <= docViewBottom) && (elemTop >= docViewTop));\n\t},\n\n\tArticleStructureBuilder: function() {\n\t\tvar structure = $(\".articleMenu\"),\n\t\t\tcontent = $(\"#articleText .articleSection\"),\n\t\t\tidx = 0,\n\t\t\tctt = '';\n\n\t\tArticle.TopBinder = [];\n\n\t\tcontent.each(function() {\n\t\t\tvar t = $(this).data(\"anchor\"),\n\t\t\t\th = $(this).find(\".articleSectionTitle\"),\n\t\t\t\toffset = $(this).offset();\n\n\t\t\tif($(this).find(\"a[name='articleSection\"+idx+\"']\").length == 0) {\n\t\t\t\t$(this).prepend(\"<a name='articleSection\"+idx+\"'></a>\");\n\t\t\t}\n\n\t\t\tif(idx == 0)\n\t\t\t\tArticle.TopBinder.push(0);\n\t\t\telse\n\t\t\t\tArticle.TopBinder.push(offset.top);\n\n\t\t\tif(typeof t == \"undefined\") return true;\n\n\t\t\tctt += '<li '+(idx == 0 ? 'class=\"selected\"' : '')+'>';\n\t\t\tctt += '\t<a href=\"#articleSection'+idx+'\">'+t+'</a>';\n\n\t\t\tif(h.length > 1) {\n\t\t\t\tvar iidx = 0;\n\t\t\t\tctt += '<ul>';\n\t\t\t\th.each(function() {\n\t\t\t\t\tvar ooffset = $(this).offset();\n\t\t\t\t\tArticle.TopBinder.push(ooffset.top);\n\n\t\t\t\t\tif($(this).prev(\"a[name='as\"+idx+\"-heading\"+iidx+\"']\").length == 0) {\n\t\t\t\t\t\t$(this).before(\"<a name='as\"+idx+\"-heading\"+iidx+\"'></a>\");\n\t\t\t\t\t}\n\n\t\t\t\t\tctt += '<li>';\n\t\t\t\t\tctt += '\t<a href=\"#as'+idx+'-heading'+iidx+'\">'+$(this).text()+'</a>';\n\t\t\t\t\tctt += '</li>';\n\n\t\t\t\t\tiidx++;\n\t\t\t\t});\n\t\t\t\tctt += '</ul>';\n\t\t\t}\n\t\t\tctt += '</li>';\n\n\t\t\tidx++;\n\t\t});\n\n\t\t// ctt+='<li class=\"floatingMenuCtt\">colocar botao aqui</li>';\n\n\t\tstructure.html(ctt);\n\n\t\t$(\"a\",structure).on(\"click\",function(e) {\n\t\t\te.preventDefault();\n\n\t\t\tvar d = $(this).attr(\"href\");\n\t\t\td = d.replace(\"#\",\"\");\n\n\t\t\tvar p = $(\"a[name=\"+d+\"]\").offset();\n\n\t\t\t$(\"html,body\").animate({\n\t\t\t\tscrollTop: (p.top-60)\n\t\t\t},500);\n\t\t});\n\t},\n\tArticleStructureSelect: function(pos) {\n\t\tvar structure = $(\".articleMenu\"),\n\t\t\tidx = 0;\n\t\tfor(var i=0,l=Article.TopBinder.length;i<l;i++) {\n\t\t\tif(i == l-1 && pos >= Article.TopBinder[i]-100) {\n\t\t\t\tstructure.find(\"li\").removeClass(\"selected\");\n\t\t\t\tstructure.find(\"li:eq(\"+i+\")\").addClass(\"selected\");\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tif(pos <= (Article.TopBinder[i]-100)) {\n\t\t\t\t\tstructure.find(\"li\").removeClass(\"selected\");\n\t\t\t\t\tstructure.find(\"li:eq(\"+(i-1)+\")\").addClass(\"selected\");\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tBindings: function(ctn) {\n\t\tif(typeof ctn == \"undefined\") ctn = \".article\";\n\t},\n\tfechaAutores: function() {\n\n\t\tvar autoresGrupo = $(\".contribGroup\");\n\t\tvar autores = $(\".contribGroup .dropdown\");\n\t\tvar qtdAutores = autores.length;\n\n\t\tif(qtdAutores >= 10) {\n\n\t\t\tvar AuthorsQTDTooltip = null;\n\n\t\t\tvar btnSobre = $(\".outlineFadeLink\");\n\t\t\tvar primeiro = autores[0];\n\t\t\tvar ultimo = autores[qtdAutores -1];\n\n\t\t\t// Code added to control authors quantity tooltip\n\t\t\tvar authorsQTDToShowInsideBracktes = qtdAutores - 2;\n\n\t\t\tvar linkToggleOn = $('<a data-toggle=\"tooltip\" data-placement=\"top\" title=\"+'+authorsQTDToShowInsideBracktes+'\"></a>');\n\n\t\t\tlinkToggleOn.text(\"[...]\");\n\t\t\t//style\n\t\t\tlinkToggleOn.css({ padding : \"10px\" , cursor : \"pointer\" });\n\n\t\t\tvar boxToggleOff = $('<div></div>');\n\t\t\tvar linkToggleOff = $('<a></a>');\n\n\t\t\tlinkToggleOff.addClass(\"btn-fechar\");\n\n\t\t\tvar spanOff = $('<span></span>');\n\t\t\tspanOff.addClass(\"sci-ico-floatingMenuClose\");\n\n\t\t\tlinkToggleOff.append(spanOff);\n\t\t\tboxToggleOff.append(linkToggleOff);\n\n\t\t\tvar autoresResumo = $('<div></div>');\n\t\t\tautoresResumo.append(primeiro);\n\t\t\tautoresResumo.append(linkToggleOn);\n\t\t\tautoresResumo.append(ultimo);\n\t\t\tautoresResumo.append(btnSobre);\n\n\t\t\t//substitui o conteudo pelo resumo\n\t\t\tautoresGrupo.text(\"\");\n\t\t\tautoresGrupo.append(autoresResumo);\n\n\t\t\tlinkToggleOn.on(\"click\",function() {\n\t\t\t\tAuthorsQTDTooltip.tooltip('disable')\n\n\t\t\t\tautoresGrupo.textContent = \"\";\n\t\t\t\tfor (var i = 0; i < qtdAutores; i++){\n\t\t\t\t\tautoresGrupo.append(autores[i]);\n\t\t\t\t}\n\n\t\t\t\tautoresGrupo.append(btnSobre);\n\t\t\t\tautoresGrupo.append(boxToggleOff);\n\t\t\t});\n\n\t\t\tlinkToggleOff.on(\"click\",function() {\n\t\t\t\tAuthorsQTDTooltip.tooltip('enable');\n\n\t\t\t\tArticle.fechaAutores();\n\t\t\t});\n\n\t\t\t// Initialize tooltip\n\t\t\tAuthorsQTDTooltip = $('[data-toggle=\"tooltip\"]').tooltip();\n\t\t}\n\t\tautoresGrupo.css(\"opacity\",\"1\");\n\n\t},\n\tIsMobile: false,\n\tIsTablet: false,\n\tIsTabletPortrait: false,\n\tIsDesktop: false,\n\tIsHD: false,\n\tisOldIE: false,\n\tDetectMobile: function(userAgent) {\n\t\tvar mobile = {};\n\n\t\t// valores do http://detectmobilebrowsers.com/\n\t    mobile.detectMobileBrowsers = {\n\t        fullPattern: /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,\n\t        shortPattern: /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i\n\t    };\n\n\t    return mobile.detectMobileBrowsers.fullPattern.test(userAgent) ||\n        \tmobile.detectMobileBrowsers.shortPattern.test(userAgent.substr(0,4));\n\t},\n\tDetectTablet: function(userAgent) {\n\t\tvar tablets = {};\n\n\t\t// valores do http://detectmobilebrowsers.com/\n\t    tablets.detectMobileBrowsers = {\n\t        tabletPattern: /android|ipad|playbook|silk/i\n\t    };\n\n\t\treturn tablets.detectMobileBrowsers.tabletPattern.test(userAgent);\n\t},\n\tSetScreen: function() {\n\t\tvar w = $(window).innerWidth(),\n\t\t\torientation = window.matchMedia(\"(orientation: portrait)\").matches;\n\n\t\tif(w > 990) Article.IsDesktop = true;\n\t\tif(w > 1206) Article.IsHD = true;\n\n\t\tif(Article.DetectMobile(navigator.userAgent))\n\t\t\tArticle.IsMobile = true;\n\n\t\tif(Article.DetectTablet(navigator.userAgent)) {\n\t\t\tArticle.IsTablet = true;\n\n\t\t\tif(orientation)\n\t\t\t\tArticle.IsTabletPortrait = true;\n\t\t\telse\n\t\t\t\tArticle.IsTabletPortrait = false;\n\n\t\t\twindow.addEventListener(\"orientationchange\", function() {\n\t\t\t    if(screen.orientation.angle == 0)\n\t\t\t    \tArticle.IsTabletPortrait = true;\n\t\t\t    else\n\t\t\t    \tArticle.IsTabletPortrait = false;\n\t\t\t});\n\t\t}\n\n\t\tif(navigator.appVersion.indexOf(\"MSIE 8\") > -1) {\n\t\t\tArticle.IsMobile = false;\n\t\t\tArticle.IsTablet = false;\n\t\t\tArticle.IsDesktop = true;\n\t\t\tArticle.IsOldIE = true;\n\t\t\tArticle.IsHD = false;\n\t\t}\n\t},\n};\n\n$(function() {\n\n\tif($(\"body.article\").length)\n\t\tArticle.Init();\n});"]}